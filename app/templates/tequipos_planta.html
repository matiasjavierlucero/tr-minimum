{% extends "appbuilder/base.html" %}

<div class="container" style="margin-left:10px">
    <div class="row" style="margin-left:10px">
        <div class="col-lg-12" style="margin-left:10px">
            {% with messages = get_flashed_messages(with_categories = true ) %} {% if messages %} {% for category, message
            in messages %}
            <div class="alert alert-{{ category }} alert-dismissible" role="alert" style="height: 20px; padding: 0px;margin: 2px;">
                {{ message }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true" >&times;</span>
                </button>
            </div>
        </div>
    </div>
    {% endfor %} {% endif %}{% endwith %}
</div>


{% block content %}
<div class="container">    
  <div class="row">
    <div class="col-lg-12" style="margin-left:10px">
        <div class="panel panel-primary ">
            <div class="panel-heading">
                <h4 class="panel-title">Listado de {% for tequipo in tequipos %} {% if tequipo.idTipoequipo == idTequipo %} {{tequipo.nombreTipoequipo}} {% endif %}{% endfor %}</h4>
            </div>
            <div class="panel-body">
              <a href="/equiposplantaview/add?_flt_0_Planta={{idPlanta}}" class="btn btn-sm btn-primary" data-toggle="tooltip" rel="tooltip" title="" {% for tequipo in tequipos %} {% if tequipo.idTipoequipo == idTequipo %} data-original-title="Añadir un nuevo {{tequipo.nombreTipoequipo}}" {% endif %}{% endfor %}>
                <i class="fa fa-plus"></i>
            </a>
            <a class="btn btn-sm btn-default" data-toggle="tooltip" rel="tooltip" title="" data-original-title="Atrás" onclick='volver()'>
              <i class="fa fa-arrow-left"></i>
            </a>
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Acción</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">SuperEquipo</th>
                    <th scope="col">N° Serie</th>
                    <th scope="col">¿Activo?</th>
                    <th scope="col">Año</th>
                  </tr>
                </thead>
                <tbody>
                  {% for planta_equipo in planta_equipos %}
                  <tr>                    
                    <td>
                      <div class="btn-group btn-group-xs" style="display: flex;">
                            <a href="http://{{session['ENTORNO']}}:5000/equiposplantaview/delete/{{planta_equipo.idPlantaequipo}}" class="btn btn-sm btn-default" onclick="confirmDelete()">
                              <i class="fa fa-eraser" aria-hidden="true"></i> 
                            </a>
                            <a href="/plantaequipoview/show/{{planta_equipo.idPlantaequipo}}?_flt_0_Planta={{idPlanta}}" class="btn btn-sm btn-default" data-toggle="tooltip" rel="tooltip" title="" data-original-title="Mostrar registro">
                              <i class="fa fa-search"></i>
                            </a>
                        </div>
                    </td>
                    <td><a href="http://{{session['ENTORNO']}}:5000/equiposplantaview/edit/{{planta_equipo.idPlantaequipo}}">{{planta_equipo}}</a></td>                    
                    <td>{{planta_equipo.superequipoPlantaequipo.modeloSuperequipo}}</td>                    
                    <td>{{planta_equipo.nroseriePlantaequipo}}</td>                    
                    <td>{{planta_equipo.activoPlantaequipo}}</td>                    
                    <td>{{planta_equipo.anioPlantaequipo}}</td>                    
                  </tr>
                  {% endfor %}    
                </tbody>
              </table>
            </div>
        </div>
    </div>
  </div>
</div>
<script>
  function confirmDelete() {
    confirm("¿Estás seguro que quieres borrar este equipo?");
  }
  </script>



{% endblock %}